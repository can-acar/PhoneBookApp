[2025-08-11 01:22:37.561 +03:00 INF]   Starting NotificationService application... {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:22:37.720 +03:00 INF]   NotificationService application started successfully {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:22:37.726 +03:00 INF]  NotificationService.ApplicationService.Worker.ReportCompletedWorker Starting Kafka consumer for Report Completed events {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:22:37.727 +03:00 INF]  HealthChecks.UI.Core.HostedService.UIInitializationHostedService Initializing UI Database {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:22:38.061 +03:00 INF]  HealthChecks.UI.Core.HostedService.UIInitializationHostedService Saving healthchecks configuration to database {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:22:38.114 +03:00 INF]  Microsoft.Hosting.Lifetime Now listening on: http://localhost:5000 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:22:38.152 +03:00 INF]  Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down. {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:22:38.153 +03:00 INF]  Microsoft.Hosting.Lifetime Hosting environment: Production {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:22:38.153 +03:00 INF]  Microsoft.Hosting.Lifetime Content root path: /Users/r00t/Projects/PhoneBookApp/NotificationService.Api {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:22:38.175 +03:00 WRN] 52afd94e-3c57-412e-a2f9-db31336c365c Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBHKU6099:00000001","ConnectionId":"0HNEOBHKU6099","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
[2025-08-11 01:22:40.847 +03:00 INF] ed8998a2-ebc1-4087-8b8b-ce55d4a88a04 Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET / responded 404 in 0.7746 ms {"RequestHost":"localhost:5000","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RequestId":"0HNEOBHKU609A:00000001","ConnectionId":"0HNEOBHKU609A","MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:22:40.857 +03:00 INF] bd632aea-6787-429c-bd74-f7b480c1a1b3 Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET / responded 404 in 0.5861 ms {"RequestHost":"localhost:5000","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RequestId":"0HNEOBHKU609B:00000001","ConnectionId":"0HNEOBHKU609B","MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:22:43.334 +03:00 ERR] 52afd94e-3c57-412e-a2f9-db31336c365c NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck Kafka health check failed {"HealthCheckName":"kafka","RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBHKU6099:00000001","ConnectionId":"0HNEOBHKU6099","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 01:22:43.345 +03:00 ERR] 52afd94e-3c57-412e-a2f9-db31336c365c Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService Health check kafka with status "Unhealthy" completed after 5164.4896ms with message 'Kafka connection failed' {"EventId":{"Id":103,"Name":"HealthCheckEnd"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBHKU6099:00000001","ConnectionId":"0HNEOBHKU6099","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 01:22:43.386 +03:00 INF] 52afd94e-3c57-412e-a2f9-db31336c365c Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /health responded 503 in 5215.1126 ms {"RequestHost":"localhost:5000","RequestScheme":"http","UserAgent":"Unknown","RequestId":"0HNEOBHKU6099:00000001","ConnectionId":"0HNEOBHKU6099","MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:22:51.446 +03:00 ERR] 173fc9bc-b111-489a-96b8-43c7b7ec8209 NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck Kafka health check failed {"HealthCheckName":"kafka","RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBHKU609B:00000002","ConnectionId":"0HNEOBHKU609B","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 01:22:51.450 +03:00 ERR] 173fc9bc-b111-489a-96b8-43c7b7ec8209 Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService Health check kafka with status "Unhealthy" completed after 5150.7809ms with message 'Kafka connection failed' {"EventId":{"Id":103,"Name":"HealthCheckEnd"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBHKU609B:00000002","ConnectionId":"0HNEOBHKU609B","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 01:22:51.454 +03:00 INF] 173fc9bc-b111-489a-96b8-43c7b7ec8209 Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /health responded 503 in 5157.2730 ms {"RequestHost":"localhost:5000","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RequestId":"0HNEOBHKU609B:00000002","ConnectionId":"0HNEOBHKU609B","MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:23:18.569 +03:00 ERR] 3ffbd5bf-4645-4642-881b-c57e73d14a46 NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck Kafka health check failed {"HealthCheckName":"kafka","RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBHKU6099:00000002","ConnectionId":"0HNEOBHKU6099","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 01:23:18.569 +03:00 ERR] 3ffbd5bf-4645-4642-881b-c57e73d14a46 Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService Health check kafka with status "Unhealthy" completed after 5047.6137ms with message 'Kafka connection failed' {"EventId":{"Id":103,"Name":"HealthCheckEnd"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBHKU6099:00000002","ConnectionId":"0HNEOBHKU6099","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 01:23:18.570 +03:00 INF] 3ffbd5bf-4645-4642-881b-c57e73d14a46 Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /health responded 503 in 5048.4805 ms {"RequestHost":"localhost:5000","RequestScheme":"http","UserAgent":"Unknown","RequestId":"0HNEOBHKU6099:00000002","ConnectionId":"0HNEOBHKU6099","MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:23:18.581 +03:00 INF]  HealthChecks.UI.Core.Notifications.WebHookFailureNotifier Notification is sent on same window time. {"Scope":["HealthReportCollector is collecting health checks results."],"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:23:53.788 +03:00 ERR] ca1f1db1-e402-41ba-b90f-b188dbe1bd4e NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck Kafka health check failed {"HealthCheckName":"kafka","RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBHKU6099:00000003","ConnectionId":"0HNEOBHKU6099","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 01:23:53.789 +03:00 ERR] ca1f1db1-e402-41ba-b90f-b188dbe1bd4e Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService Health check kafka with status "Unhealthy" completed after 5159.0866ms with message 'Kafka connection failed' {"EventId":{"Id":103,"Name":"HealthCheckEnd"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBHKU6099:00000003","ConnectionId":"0HNEOBHKU6099","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 01:23:53.791 +03:00 INF] ca1f1db1-e402-41ba-b90f-b188dbe1bd4e Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /health responded 503 in 5161.1255 ms {"RequestHost":"localhost:5000","RequestScheme":"http","UserAgent":"Unknown","RequestId":"0HNEOBHKU6099:00000003","ConnectionId":"0HNEOBHKU6099","MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:24:28.848 +03:00 ERR] 0656b10c-a511-4bb2-8909-888ce5c0ad41 NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck Kafka health check failed {"HealthCheckName":"kafka","RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBHKU6099:00000004","ConnectionId":"0HNEOBHKU6099","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 01:24:28.849 +03:00 ERR] 0656b10c-a511-4bb2-8909-888ce5c0ad41 Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService Health check kafka with status "Unhealthy" completed after 5046.4111ms with message 'Kafka connection failed' {"EventId":{"Id":103,"Name":"HealthCheckEnd"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBHKU6099:00000004","ConnectionId":"0HNEOBHKU6099","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 01:24:28.851 +03:00 INF] 0656b10c-a511-4bb2-8909-888ce5c0ad41 Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /health responded 503 in 5049.5423 ms {"RequestHost":"localhost:5000","RequestScheme":"http","UserAgent":"Unknown","RequestId":"0HNEOBHKU6099:00000004","ConnectionId":"0HNEOBHKU6099","MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:24:28.860 +03:00 INF]  HealthChecks.UI.Core.Notifications.WebHookFailureNotifier Notification is sent on same window time. {"Scope":["HealthReportCollector is collecting health checks results."],"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:24:56.701 +03:00 INF] 41543136-aac1-4f0c-a718-edf816fdfb36 Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /Notifications responded 404 in 0.1994 ms {"RequestHost":"localhost:5000","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RequestId":"0HNEOBHKU609B:00000003","ConnectionId":"0HNEOBHKU609B","MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:25:04.024 +03:00 ERR] 866a2fc1-cf45-42ff-9d4c-8ad151124e38 NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck Kafka health check failed {"HealthCheckName":"kafka","RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBHKU609C:00000001","ConnectionId":"0HNEOBHKU609C","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 01:25:04.025 +03:00 ERR] 866a2fc1-cf45-42ff-9d4c-8ad151124e38 Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService Health check kafka with status "Unhealthy" completed after 5148.6711ms with message 'Kafka connection failed' {"EventId":{"Id":103,"Name":"HealthCheckEnd"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBHKU609C:00000001","ConnectionId":"0HNEOBHKU609C","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 01:25:04.026 +03:00 INF] 866a2fc1-cf45-42ff-9d4c-8ad151124e38 Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /health responded 503 in 5150.7711 ms {"RequestHost":"localhost:5000","RequestScheme":"http","UserAgent":"Unknown","RequestId":"0HNEOBHKU609C:00000001","ConnectionId":"0HNEOBHKU609C","MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:25:12.152 +03:00 INF] becede98-9dcd-46e5-bcba-2090bb61d765 Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /Notifications responded 404 in 0.0995 ms {"RequestHost":"localhost:5000","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RequestId":"0HNEOBHKU609B:00000004","ConnectionId":"0HNEOBHKU609B","MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:25:19.292 +03:00 INF] 6604ff77-04a4-4c84-9ae6-f12b98835cae Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /api/Notifications responded 404 in 0.0795 ms {"RequestHost":"localhost:5000","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RequestId":"0HNEOBHKU609B:00000005","ConnectionId":"0HNEOBHKU609B","MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:25:39.179 +03:00 ERR] e853d473-77de-4758-acec-6ef026f38229 NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck Kafka health check failed {"HealthCheckName":"kafka","RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBHKU609C:00000002","ConnectionId":"0HNEOBHKU609C","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 01:25:39.180 +03:00 ERR] e853d473-77de-4758-acec-6ef026f38229 Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService Health check kafka with status "Unhealthy" completed after 5144.6563ms with message 'Kafka connection failed' {"EventId":{"Id":103,"Name":"HealthCheckEnd"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBHKU609C:00000002","ConnectionId":"0HNEOBHKU609C","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 01:25:39.182 +03:00 INF] e853d473-77de-4758-acec-6ef026f38229 Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /health responded 503 in 5149.0849 ms {"RequestHost":"localhost:5000","RequestScheme":"http","UserAgent":"Unknown","RequestId":"0HNEOBHKU609C:00000002","ConnectionId":"0HNEOBHKU609C","MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:25:39.184 +03:00 INF]  HealthChecks.UI.Core.Notifications.WebHookFailureNotifier Notification is sent on same window time. {"Scope":["HealthReportCollector is collecting health checks results."],"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:26:14.347 +03:00 ERR] 23b5fcc1-c433-465c-86bd-03376e847e23 NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck Kafka health check failed {"HealthCheckName":"kafka","RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBHKU609C:00000003","ConnectionId":"0HNEOBHKU609C","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 01:26:14.349 +03:00 ERR] 23b5fcc1-c433-465c-86bd-03376e847e23 Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService Health check kafka with status "Unhealthy" completed after 5147.8203ms with message 'Kafka connection failed' {"EventId":{"Id":103,"Name":"HealthCheckEnd"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBHKU609C:00000003","ConnectionId":"0HNEOBHKU609C","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 01:26:14.350 +03:00 INF] 23b5fcc1-c433-465c-86bd-03376e847e23 Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /health responded 503 in 5157.9380 ms {"RequestHost":"localhost:5000","RequestScheme":"http","UserAgent":"Unknown","RequestId":"0HNEOBHKU609C:00000003","ConnectionId":"0HNEOBHKU609C","MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:26:49.542 +03:00 ERR] 2b88f678-e421-4856-8251-0762e3c6c2c6 NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck Kafka health check failed {"HealthCheckName":"kafka","RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBHKU609C:00000004","ConnectionId":"0HNEOBHKU609C","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 01:26:49.543 +03:00 ERR] 2b88f678-e421-4856-8251-0762e3c6c2c6 Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService Health check kafka with status "Unhealthy" completed after 5167.0869ms with message 'Kafka connection failed' {"EventId":{"Id":103,"Name":"HealthCheckEnd"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBHKU609C:00000004","ConnectionId":"0HNEOBHKU609C","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 01:26:49.545 +03:00 INF] 2b88f678-e421-4856-8251-0762e3c6c2c6 Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /health responded 503 in 5170.3921 ms {"RequestHost":"localhost:5000","RequestScheme":"http","UserAgent":"Unknown","RequestId":"0HNEOBHKU609C:00000004","ConnectionId":"0HNEOBHKU609C","MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:26:49.559 +03:00 INF]  HealthChecks.UI.Core.Notifications.WebHookFailureNotifier Notification is sent on same window time. {"Scope":["HealthReportCollector is collecting health checks results."],"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:27:24.715 +03:00 ERR] 5db35f28-4392-4eae-a36a-947d48a4acc3 NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck Kafka health check failed {"HealthCheckName":"kafka","RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBHKU609D:00000001","ConnectionId":"0HNEOBHKU609D","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 01:27:24.717 +03:00 ERR] 5db35f28-4392-4eae-a36a-947d48a4acc3 Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService Health check kafka with status "Unhealthy" completed after 5150.5666ms with message 'Kafka connection failed' {"EventId":{"Id":103,"Name":"HealthCheckEnd"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBHKU609D:00000001","ConnectionId":"0HNEOBHKU609D","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 01:27:24.718 +03:00 INF] 5db35f28-4392-4eae-a36a-947d48a4acc3 Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /health responded 503 in 5151.7425 ms {"RequestHost":"localhost:5000","RequestScheme":"http","UserAgent":"Unknown","RequestId":"0HNEOBHKU609D:00000001","ConnectionId":"0HNEOBHKU609D","MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:27:59.875 +03:00 ERR] 7ed9e910-e36d-4477-ac54-075a7a663663 NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck Kafka health check failed {"HealthCheckName":"kafka","RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBHKU609D:00000002","ConnectionId":"0HNEOBHKU609D","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 01:27:59.877 +03:00 ERR] 7ed9e910-e36d-4477-ac54-075a7a663663 Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService Health check kafka with status "Unhealthy" completed after 5148.8935ms with message 'Kafka connection failed' {"EventId":{"Id":103,"Name":"HealthCheckEnd"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBHKU609D:00000002","ConnectionId":"0HNEOBHKU609D","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 01:27:59.878 +03:00 INF] 7ed9e910-e36d-4477-ac54-075a7a663663 Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /health responded 503 in 5150.6666 ms {"RequestHost":"localhost:5000","RequestScheme":"http","UserAgent":"Unknown","RequestId":"0HNEOBHKU609D:00000002","ConnectionId":"0HNEOBHKU609D","MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:27:59.880 +03:00 INF]  HealthChecks.UI.Core.Notifications.WebHookFailureNotifier Notification is sent on same window time. {"Scope":["HealthReportCollector is collecting health checks results."],"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:28:35.042 +03:00 ERR] 7c286ce2-64ec-4e33-8e01-9b481ab05171 NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck Kafka health check failed {"HealthCheckName":"kafka","RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBHKU609D:00000003","ConnectionId":"0HNEOBHKU609D","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 01:28:35.043 +03:00 ERR] 7c286ce2-64ec-4e33-8e01-9b481ab05171 Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService Health check kafka with status "Unhealthy" completed after 5151.5216ms with message 'Kafka connection failed' {"EventId":{"Id":103,"Name":"HealthCheckEnd"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBHKU609D:00000003","ConnectionId":"0HNEOBHKU609D","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 01:28:35.044 +03:00 INF] 7c286ce2-64ec-4e33-8e01-9b481ab05171 Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /health responded 503 in 5154.7683 ms {"RequestHost":"localhost:5000","RequestScheme":"http","UserAgent":"Unknown","RequestId":"0HNEOBHKU609D:00000003","ConnectionId":"0HNEOBHKU609D","MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:29:10.094 +03:00 ERR] f7c9d6a2-fd24-41a1-ac80-a2189cf1b60f NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck Kafka health check failed {"HealthCheckName":"kafka","RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBHKU609D:00000004","ConnectionId":"0HNEOBHKU609D","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 01:29:10.094 +03:00 ERR] f7c9d6a2-fd24-41a1-ac80-a2189cf1b60f Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService Health check kafka with status "Unhealthy" completed after 5043.5151ms with message 'Kafka connection failed' {"EventId":{"Id":103,"Name":"HealthCheckEnd"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBHKU609D:00000004","ConnectionId":"0HNEOBHKU609D","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 01:29:10.095 +03:00 INF] f7c9d6a2-fd24-41a1-ac80-a2189cf1b60f Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /health responded 503 in 5045.6447 ms {"RequestHost":"localhost:5000","RequestScheme":"http","UserAgent":"Unknown","RequestId":"0HNEOBHKU609D:00000004","ConnectionId":"0HNEOBHKU609D","MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:29:10.096 +03:00 INF]  HealthChecks.UI.Core.Notifications.WebHookFailureNotifier Notification is sent on same window time. {"Scope":["HealthReportCollector is collecting health checks results."],"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:29:45.174 +03:00 ERR] 28627b57-3fda-4fd6-8af9-11bcb5c044ef NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck Kafka health check failed {"HealthCheckName":"kafka","RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBHKU609E:00000001","ConnectionId":"0HNEOBHKU609E","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 01:29:45.175 +03:00 ERR] 28627b57-3fda-4fd6-8af9-11bcb5c044ef Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService Health check kafka with status "Unhealthy" completed after 5060.8743ms with message 'Kafka connection failed' {"EventId":{"Id":103,"Name":"HealthCheckEnd"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBHKU609E:00000001","ConnectionId":"0HNEOBHKU609E","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 01:29:45.176 +03:00 INF] 28627b57-3fda-4fd6-8af9-11bcb5c044ef Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /health responded 503 in 5063.3226 ms {"RequestHost":"localhost:5000","RequestScheme":"http","UserAgent":"Unknown","RequestId":"0HNEOBHKU609E:00000001","ConnectionId":"0HNEOBHKU609E","MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:30:20.347 +03:00 ERR] fe423831-0a99-4a81-8e58-c360327b17c3 NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck Kafka health check failed {"HealthCheckName":"kafka","RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBHKU609E:00000002","ConnectionId":"0HNEOBHKU609E","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 01:30:20.348 +03:00 ERR] fe423831-0a99-4a81-8e58-c360327b17c3 Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService Health check kafka with status "Unhealthy" completed after 5151.205ms with message 'Kafka connection failed' {"EventId":{"Id":103,"Name":"HealthCheckEnd"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBHKU609E:00000002","ConnectionId":"0HNEOBHKU609E","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 01:30:20.349 +03:00 INF] fe423831-0a99-4a81-8e58-c360327b17c3 Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /health responded 503 in 5155.3795 ms {"RequestHost":"localhost:5000","RequestScheme":"http","UserAgent":"Unknown","RequestId":"0HNEOBHKU609E:00000002","ConnectionId":"0HNEOBHKU609E","MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:30:20.351 +03:00 INF]  HealthChecks.UI.Core.Notifications.WebHookFailureNotifier Notification is sent on same window time. {"Scope":["HealthReportCollector is collecting health checks results."],"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:30:55.510 +03:00 ERR] 5e5ff0c6-c038-4dcf-82af-705359469dd9 NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck Kafka health check failed {"HealthCheckName":"kafka","RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBHKU609E:00000003","ConnectionId":"0HNEOBHKU609E","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 01:30:55.510 +03:00 ERR] 5e5ff0c6-c038-4dcf-82af-705359469dd9 Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService Health check kafka with status "Unhealthy" completed after 5149.4273ms with message 'Kafka connection failed' {"EventId":{"Id":103,"Name":"HealthCheckEnd"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBHKU609E:00000003","ConnectionId":"0HNEOBHKU609E","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 01:30:55.510 +03:00 INF] 5e5ff0c6-c038-4dcf-82af-705359469dd9 Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /health responded 503 in 5152.0100 ms {"RequestHost":"localhost:5000","RequestScheme":"http","UserAgent":"Unknown","RequestId":"0HNEOBHKU609E:00000003","ConnectionId":"0HNEOBHKU609E","MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:31:04.170 +03:00 INF]  Microsoft.Hosting.Lifetime Application is shutting down... {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:31:04.271 +03:00 INF]  NotificationService.ApplicationService.Worker.ReportCompletedWorker Report completed consumer is shutting down {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:43:25.244 +03:00 INF]   Starting NotificationService application... {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:43:25.414 +03:00 INF]   NotificationService application started successfully {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:43:25.421 +03:00 INF]  NotificationService.ApplicationService.Worker.ReportCompletedWorker Starting Kafka consumer for Report Completed events {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:43:25.424 +03:00 INF]  HealthChecks.UI.Core.HostedService.UIInitializationHostedService Initializing UI Database {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:43:25.730 +03:00 INF]  HealthChecks.UI.Core.HostedService.UIInitializationHostedService Saving healthchecks configuration to database {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:43:25.781 +03:00 INF]  Microsoft.Hosting.Lifetime Now listening on: http://localhost:5000 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:43:25.817 +03:00 INF]  Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down. {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:43:25.818 +03:00 INF]  Microsoft.Hosting.Lifetime Hosting environment: Production {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:43:25.818 +03:00 INF]  Microsoft.Hosting.Lifetime Content root path: /Users/r00t/Projects/PhoneBookApp/NotificationService.Api {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:43:25.837 +03:00 WRN] 4574e33a-ec61-42fd-a749-f51e618b6f84 Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBT8OR3J1:00000001","ConnectionId":"0HNEOBT8OR3J1","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
[2025-08-11 01:43:30.990 +03:00 ERR] 4574e33a-ec61-42fd-a749-f51e618b6f84 NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck Kafka health check failed {"HealthCheckName":"kafka","RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBT8OR3J1:00000001","ConnectionId":"0HNEOBT8OR3J1","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 01:43:31.000 +03:00 ERR] 4574e33a-ec61-42fd-a749-f51e618b6f84 Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService Health check kafka with status "Unhealthy" completed after 5158.634ms with message 'Kafka connection failed' {"EventId":{"Id":103,"Name":"HealthCheckEnd"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBT8OR3J1:00000001","ConnectionId":"0HNEOBT8OR3J1","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 01:43:31.050 +03:00 INF] 4574e33a-ec61-42fd-a749-f51e618b6f84 Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /health responded 503 in 5214.9663 ms {"RequestHost":"localhost:5000","RequestScheme":"http","UserAgent":"Unknown","RequestId":"0HNEOBT8OR3J1:00000001","ConnectionId":"0HNEOBT8OR3J1","MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:43:43.399 +03:00 INF]  Microsoft.Hosting.Lifetime Application is shutting down... {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:43:43.424 +03:00 INF]  NotificationService.ApplicationService.Worker.ReportCompletedWorker Report completed consumer is shutting down {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:45:08.478 +03:00 INF]   Starting NotificationService application... {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:45:08.629 +03:00 INF]   NotificationService application started successfully {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:45:08.635 +03:00 INF]  NotificationService.ApplicationService.Worker.ReportCompletedWorker Starting Kafka consumer for Report Completed events {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:45:08.636 +03:00 INF]  HealthChecks.UI.Core.HostedService.UIInitializationHostedService Initializing UI Database {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:45:08.932 +03:00 INF]  HealthChecks.UI.Core.HostedService.UIInitializationHostedService Saving healthchecks configuration to database {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:45:08.986 +03:00 INF]  Microsoft.Hosting.Lifetime Now listening on: http://localhost:5000 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:45:09.019 +03:00 INF]  Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down. {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:45:09.019 +03:00 INF]  Microsoft.Hosting.Lifetime Hosting environment: Production {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:45:09.019 +03:00 INF]  Microsoft.Hosting.Lifetime Content root path: /Users/r00t/Projects/PhoneBookApp/NotificationService.Api {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:45:09.038 +03:00 WRN] ee8ff93c-e12f-4e6b-a862-e16976fab396 Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBU7H1PEB:00000001","ConnectionId":"0HNEOBU7H1PEB","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
[2025-08-11 01:45:10.687 +03:00 INF]  Microsoft.Hosting.Lifetime Application is shutting down... {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:45:27.710 +03:00 INF]   Starting NotificationService application... {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:45:27.840 +03:00 INF]   NotificationService application started successfully {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:45:27.845 +03:00 INF]  NotificationService.ApplicationService.Worker.ReportCompletedWorker Starting Kafka consumer for Report Completed events {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:45:27.847 +03:00 INF]  HealthChecks.UI.Core.HostedService.UIInitializationHostedService Initializing UI Database {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:45:28.137 +03:00 INF]  HealthChecks.UI.Core.HostedService.UIInitializationHostedService Saving healthchecks configuration to database {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:45:28.190 +03:00 INF]  Microsoft.Hosting.Lifetime Now listening on: http://localhost:5115 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:45:28.226 +03:00 INF]  Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down. {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:45:28.226 +03:00 INF]  Microsoft.Hosting.Lifetime Hosting environment: Development {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:45:28.226 +03:00 INF]  Microsoft.Hosting.Lifetime Content root path: /Users/r00t/Projects/PhoneBookApp/NotificationService.Api {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:45:28.261 +03:00 WRN] 6ac5e024-cbee-430e-af3e-f085a3adfe94 Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBUD87EL5:00000001","ConnectionId":"0HNEOBUD87EL5","MachineName":"base","EnvironmentName":"Development","Environment":"Development"}
[2025-08-11 01:45:33.412 +03:00 ERR] 6ac5e024-cbee-430e-af3e-f085a3adfe94 NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck Kafka health check failed {"HealthCheckName":"kafka","RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBUD87EL5:00000001","ConnectionId":"0HNEOBUD87EL5","MachineName":"base","EnvironmentName":"Development","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 01:45:33.422 +03:00 ERR] 6ac5e024-cbee-430e-af3e-f085a3adfe94 Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService Health check kafka with status "Unhealthy" completed after 5155.8573ms with message 'Kafka connection failed' {"EventId":{"Id":103,"Name":"HealthCheckEnd"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOBUD87EL5:00000001","ConnectionId":"0HNEOBUD87EL5","MachineName":"base","EnvironmentName":"Development","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 01:45:33.472 +03:00 INF] 6ac5e024-cbee-430e-af3e-f085a3adfe94 Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /health responded 503 in 5223.3699 ms {"RequestHost":"localhost:5115","RequestScheme":"http","UserAgent":"Unknown","RequestId":"0HNEOBUD87EL5:00000001","ConnectionId":"0HNEOBUD87EL5","MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:45:57.821 +03:00 INF]  Microsoft.Hosting.Lifetime Application is shutting down... {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:45:57.837 +03:00 INF]  NotificationService.ApplicationService.Worker.ReportCompletedWorker Report completed consumer is shutting down {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:49:20.662 +03:00 INF]   Starting NotificationService application... {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:49:20.824 +03:00 INF]   NotificationService application started successfully {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:49:20.830 +03:00 INF]  NotificationService.ApplicationService.Worker.ReportCompletedWorker Starting Kafka consumer for Report Completed events {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:49:20.831 +03:00 INF]  HealthChecks.UI.Core.HostedService.UIInitializationHostedService Initializing UI Database {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:49:21.125 +03:00 INF]  HealthChecks.UI.Core.HostedService.UIInitializationHostedService Saving healthchecks configuration to database {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:49:21.179 +03:00 INF]  Microsoft.Hosting.Lifetime Now listening on: http://localhost:5115 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:49:21.211 +03:00 INF]  Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down. {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:49:21.211 +03:00 INF]  Microsoft.Hosting.Lifetime Hosting environment: Development {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:49:21.211 +03:00 INF]  Microsoft.Hosting.Lifetime Content root path: /Users/r00t/Projects/PhoneBookApp/NotificationService.Api {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 01:49:21.237 +03:00 WRN] b78d287d-5e3d-4d25-b508-e2e31db08ad3 Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOC0IM4I1L:00000001","ConnectionId":"0HNEOC0IM4I1L","MachineName":"base","EnvironmentName":"Development","Environment":"Development"}
[2025-08-11 01:49:23.085 +03:00 INF]  Microsoft.Hosting.Lifetime Application is shutting down... {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:18:01.979 +03:00 INF]   Starting NotificationService application... {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:18:02.131 +03:00 INF]   NotificationService application started successfully {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:18:02.136 +03:00 INF]  NotificationService.ApplicationService.Worker.ReportCompletedWorker Starting Kafka consumer for Report Completed events {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:18:02.149 +03:00 INF]  HealthChecks.UI.Core.HostedService.UIInitializationHostedService Initializing UI Database {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:18:02.620 +03:00 INF]  HealthChecks.UI.Core.HostedService.UIInitializationHostedService Saving healthchecks configuration to database {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:18:02.679 +03:00 INF]  Microsoft.Hosting.Lifetime Now listening on: http://localhost:5115 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:18:02.722 +03:00 INF]  Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down. {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:18:02.722 +03:00 INF]  Microsoft.Hosting.Lifetime Hosting environment: Development {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:18:02.722 +03:00 INF]  Microsoft.Hosting.Lifetime Content root path: /Users/r00t/Projects/PhoneBookApp/NotificationService.Api {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:18:02.753 +03:00 WRN] 4ff05d57-a0a9-438c-b741-a5f36ea2f06e Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEODI4K117B:00000001","ConnectionId":"0HNEODI4K117B","MachineName":"base","EnvironmentName":"Development","Environment":"Development"}
[2025-08-11 03:18:07.908 +03:00 ERR] 4ff05d57-a0a9-438c-b741-a5f36ea2f06e NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck Kafka health check failed {"HealthCheckName":"kafka","RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEODI4K117B:00000001","ConnectionId":"0HNEODI4K117B","MachineName":"base","EnvironmentName":"Development","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 03:18:07.913 +03:00 ERR] 4ff05d57-a0a9-438c-b741-a5f36ea2f06e Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService Health check kafka with status "Unhealthy" completed after 5155.4735ms with message 'Kafka connection failed' {"EventId":{"Id":103,"Name":"HealthCheckEnd"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEODI4K117B:00000001","ConnectionId":"0HNEODI4K117B","MachineName":"base","EnvironmentName":"Development","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 03:18:07.951 +03:00 INF] 4ff05d57-a0a9-438c-b741-a5f36ea2f06e Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /health responded 503 in 5210.3448 ms {"RequestHost":"localhost:5115","RequestScheme":"http","UserAgent":"Unknown","RequestId":"0HNEODI4K117B:00000001","ConnectionId":"0HNEODI4K117B","MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:18:27.327 +03:00 INF]  Microsoft.Hosting.Lifetime Application is shutting down... {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:18:27.356 +03:00 INF]  NotificationService.ApplicationService.Worker.ReportCompletedWorker Report completed consumer is shutting down {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:19:45.068 +03:00 INF]   Starting NotificationService application... {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:19:45.272 +03:00 INF]   NotificationService application started successfully {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:19:45.277 +03:00 INF]  NotificationService.ApplicationService.Worker.ReportCompletedWorker Starting Kafka consumer for Report Completed events {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:19:45.278 +03:00 INF]  HealthChecks.UI.Core.HostedService.UIInitializationHostedService Initializing UI Database {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:19:45.559 +03:00 INF]  HealthChecks.UI.Core.HostedService.UIInitializationHostedService Saving healthchecks configuration to database {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:19:45.615 +03:00 INF]  Microsoft.Hosting.Lifetime Now listening on: http://localhost:5115 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:19:45.645 +03:00 INF]  Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down. {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:19:45.645 +03:00 INF]  Microsoft.Hosting.Lifetime Hosting environment: Development {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:19:45.645 +03:00 INF]  Microsoft.Hosting.Lifetime Content root path: /Users/r00t/Projects/PhoneBookApp/NotificationService.Api {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:19:45.671 +03:00 WRN] c4b74243-d4e9-48bd-a596-852472f304e3 Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEODJ39IGNR:00000001","ConnectionId":"0HNEODJ39IGNR","MachineName":"base","EnvironmentName":"Development","Environment":"Development"}
[2025-08-11 03:19:50.824 +03:00 ERR] c4b74243-d4e9-48bd-a596-852472f304e3 NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck Kafka health check failed {"HealthCheckName":"kafka","RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEODJ39IGNR:00000001","ConnectionId":"0HNEODJ39IGNR","MachineName":"base","EnvironmentName":"Development","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 03:19:50.838 +03:00 ERR] c4b74243-d4e9-48bd-a596-852472f304e3 Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService Health check kafka with status "Unhealthy" completed after 5160.709ms with message 'Kafka connection failed' {"EventId":{"Id":103,"Name":"HealthCheckEnd"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEODJ39IGNR:00000001","ConnectionId":"0HNEODJ39IGNR","MachineName":"base","EnvironmentName":"Development","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 03:19:50.886 +03:00 INF] c4b74243-d4e9-48bd-a596-852472f304e3 Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /health responded 503 in 5224.6428 ms {"RequestHost":"localhost:5115","RequestScheme":"http","UserAgent":"Unknown","RequestId":"0HNEODJ39IGNR:00000001","ConnectionId":"0HNEODJ39IGNR","MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:20:08.807 +03:00 INF]  Microsoft.Hosting.Lifetime Application is shutting down... {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:20:08.911 +03:00 INF]  NotificationService.ApplicationService.Worker.ReportCompletedWorker Report completed consumer is shutting down {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:43:57.497 +03:00 INF]   Starting NotificationService application... {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:43:57.676 +03:00 INF]   NotificationService application started successfully {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:43:57.683 +03:00 INF]  NotificationService.ApplicationService.Worker.ReportCompletedWorker Starting Kafka consumer for Report Completed events {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:43:57.684 +03:00 INF]  HealthChecks.UI.Core.HostedService.UIInitializationHostedService Initializing UI Database {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:43:58.003 +03:00 INF]  HealthChecks.UI.Core.HostedService.UIInitializationHostedService Saving healthchecks configuration to database {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:43:58.063 +03:00 INF]  Microsoft.Hosting.Lifetime Now listening on: http://localhost:5115 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:43:58.100 +03:00 INF]  Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down. {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:43:58.100 +03:00 INF]  Microsoft.Hosting.Lifetime Hosting environment: Development {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:43:58.100 +03:00 INF]  Microsoft.Hosting.Lifetime Content root path: /Users/r00t/Projects/PhoneBookApp/NotificationService.Api {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:43:58.130 +03:00 WRN] 692b836d-0a10-430f-ab7d-96bb331f7756 Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOE0K58M0R:00000001","ConnectionId":"0HNEOE0K58M0R","MachineName":"base","EnvironmentName":"Development","Environment":"Development"}
[2025-08-11 03:44:03.281 +03:00 ERR] 692b836d-0a10-430f-ab7d-96bb331f7756 NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck Kafka health check failed {"HealthCheckName":"kafka","RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOE0K58M0R:00000001","ConnectionId":"0HNEOE0K58M0R","MachineName":"base","EnvironmentName":"Development","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 03:44:03.290 +03:00 ERR] 692b836d-0a10-430f-ab7d-96bb331f7756 Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService Health check kafka with status "Unhealthy" completed after 5154.7036ms with message 'Kafka connection failed' {"EventId":{"Id":103,"Name":"HealthCheckEnd"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOE0K58M0R:00000001","ConnectionId":"0HNEOE0K58M0R","MachineName":"base","EnvironmentName":"Development","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 03:44:03.341 +03:00 INF] 692b836d-0a10-430f-ab7d-96bb331f7756 Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /health responded 503 in 5221.8407 ms {"RequestHost":"localhost:5115","RequestScheme":"http","UserAgent":"Unknown","RequestId":"0HNEOE0K58M0R:00000001","ConnectionId":"0HNEOE0K58M0R","MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:44:38.618 +03:00 ERR] 026a2ea5-2b08-4440-8f45-d82bb520c038 NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck Kafka health check failed {"HealthCheckName":"kafka","RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOE0K58M0R:00000002","ConnectionId":"0HNEOE0K58M0R","MachineName":"base","EnvironmentName":"Development","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 03:44:38.620 +03:00 ERR] 026a2ea5-2b08-4440-8f45-d82bb520c038 Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService Health check kafka with status "Unhealthy" completed after 5144.2862ms with message 'Kafka connection failed' {"EventId":{"Id":103,"Name":"HealthCheckEnd"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEOE0K58M0R:00000002","ConnectionId":"0HNEOE0K58M0R","MachineName":"base","EnvironmentName":"Development","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-11 03:44:38.621 +03:00 INF] 026a2ea5-2b08-4440-8f45-d82bb520c038 Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /health responded 503 in 5146.8145 ms {"RequestHost":"localhost:5115","RequestScheme":"http","UserAgent":"Unknown","RequestId":"0HNEOE0K58M0R:00000002","ConnectionId":"0HNEOE0K58M0R","MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:44:38.630 +03:00 INF]  HealthChecks.UI.Core.Notifications.WebHookFailureNotifier Notification is sent on same window time. {"Scope":["HealthReportCollector is collecting health checks results."],"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:45:00.790 +03:00 INF]  Microsoft.Hosting.Lifetime Application is shutting down... {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-11 03:45:00.888 +03:00 INF]  NotificationService.ApplicationService.Worker.ReportCompletedWorker Report completed consumer is shutting down {"MachineName":"base","EnvironmentName":"Development","Environment":"Development","ServiceName":"NotificationService"}
