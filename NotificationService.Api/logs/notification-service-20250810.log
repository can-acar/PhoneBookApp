[2025-08-10 17:02:28.246 +03:00 INF]   Starting NotificationService application... {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:02:28.507 +03:00 INF]   NotificationService application started successfully {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:02:28.610 +03:00 INF]  NotificationService.ApplicationService.Worker.ReportCompletedWorker Starting Kafka consumer for Report Completed events {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:02:28.612 +03:00 INF]  HealthChecks.UI.Core.HostedService.UIInitializationHostedService Initializing UI Database {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:02:29.152 +03:00 INF]  HealthChecks.UI.Core.HostedService.UIInitializationHostedService Saving healthchecks configuration to database {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:02:29.224 +03:00 INF]  Microsoft.Hosting.Lifetime Now listening on: http://localhost:5000 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:02:29.278 +03:00 INF]  Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down. {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:02:29.278 +03:00 INF]  Microsoft.Hosting.Lifetime Hosting environment: Production {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:02:29.278 +03:00 INF]  Microsoft.Hosting.Lifetime Content root path: /Users/r00t/Projects/PhoneBookApp/NotificationService.Api {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:02:29.315 +03:00 WRN] e0fa5408-2ca7-47f5-a16b-960c20378b12 Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEO2Q5JA97R:00000001","ConnectionId":"0HNEO2Q5JA97R","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
[2025-08-10 17:02:34.478 +03:00 ERR] e0fa5408-2ca7-47f5-a16b-960c20378b12 NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck Kafka health check failed {"HealthCheckName":"kafka","RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEO2Q5JA97R:00000001","ConnectionId":"0HNEO2Q5JA97R","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-10 17:02:34.487 +03:00 ERR] e0fa5408-2ca7-47f5-a16b-960c20378b12 Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService Health check kafka with status "Unhealthy" completed after 5160.4067ms with message 'Kafka connection failed' {"EventId":{"Id":103,"Name":"HealthCheckEnd"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEO2Q5JA97R:00000001","ConnectionId":"0HNEO2Q5JA97R","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-10 17:02:34.537 +03:00 INF] e0fa5408-2ca7-47f5-a16b-960c20378b12 Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /health responded 503 in 5224.6128 ms {"RequestHost":"localhost:5000","RequestScheme":"http","UserAgent":"Unknown","RequestId":"0HNEO2Q5JA97R:00000001","ConnectionId":"0HNEO2Q5JA97R","MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:02:37.365 +03:00 INF]  Microsoft.Hosting.Lifetime Application is shutting down... {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:02:37.398 +03:00 INF]  NotificationService.ApplicationService.Worker.ReportCompletedWorker Report completed consumer is shutting down {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:10:35.610 +03:00 INF]   Starting NotificationService application... {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:10:35.729 +03:00 INF]   NotificationService application started successfully {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:10:35.817 +03:00 INF]  NotificationService.ApplicationService.Worker.ReportCompletedWorker Starting Kafka consumer for Report Completed events {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:10:35.818 +03:00 INF]  HealthChecks.UI.Core.HostedService.UIInitializationHostedService Initializing UI Database {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:10:36.107 +03:00 INF]  HealthChecks.UI.Core.HostedService.UIInitializationHostedService Saving healthchecks configuration to database {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:10:36.155 +03:00 INF]  Microsoft.Hosting.Lifetime Now listening on: http://localhost:5000 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:10:36.183 +03:00 INF]  Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down. {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:10:36.183 +03:00 INF]  Microsoft.Hosting.Lifetime Hosting environment: Production {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:10:36.183 +03:00 INF]  Microsoft.Hosting.Lifetime Content root path: /Users/r00t/Projects/PhoneBookApp/NotificationService.Api {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:10:36.199 +03:00 WRN] fac84185-3c20-4f70-8c0c-dded638d4776 Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEO2UMMNCRN:00000001","ConnectionId":"0HNEO2UMMNCRN","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
[2025-08-10 17:10:41.354 +03:00 ERR] fac84185-3c20-4f70-8c0c-dded638d4776 NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck Kafka health check failed {"HealthCheckName":"kafka","RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEO2UMMNCRN:00000001","ConnectionId":"0HNEO2UMMNCRN","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-10 17:10:41.368 +03:00 ERR] fac84185-3c20-4f70-8c0c-dded638d4776 Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService Health check kafka with status "Unhealthy" completed after 5162.7012ms with message 'Kafka connection failed' {"EventId":{"Id":103,"Name":"HealthCheckEnd"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEO2UMMNCRN:00000001","ConnectionId":"0HNEO2UMMNCRN","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-10 17:10:41.417 +03:00 INF] fac84185-3c20-4f70-8c0c-dded638d4776 Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /health responded 503 in 5218.3907 ms {"RequestHost":"localhost:5000","RequestScheme":"http","UserAgent":"Unknown","RequestId":"0HNEO2UMMNCRN:00000001","ConnectionId":"0HNEO2UMMNCRN","MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:10:51.573 +03:00 INF]  Microsoft.Hosting.Lifetime Application is shutting down... {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:10:51.599 +03:00 INF]  NotificationService.ApplicationService.Worker.ReportCompletedWorker Report completed consumer is shutting down {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:10:56.663 +03:00 INF]   Starting NotificationService application... {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:10:57.014 +03:00 INF]   NotificationService application started successfully {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:10:57.175 +03:00 INF]  NotificationService.ApplicationService.Worker.ReportCompletedWorker Starting Kafka consumer for Report Completed events {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:10:57.177 +03:00 INF]  HealthChecks.UI.Core.HostedService.UIInitializationHostedService Initializing UI Database {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:10:57.559 +03:00 INF]  HealthChecks.UI.Core.HostedService.UIInitializationHostedService Saving healthchecks configuration to database {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:10:57.625 +03:00 INF]  Microsoft.Hosting.Lifetime Now listening on: http://localhost:5000 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:10:57.696 +03:00 INF]  Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down. {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:10:57.696 +03:00 INF]  Microsoft.Hosting.Lifetime Hosting environment: Production {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:10:57.696 +03:00 INF]  Microsoft.Hosting.Lifetime Content root path: /Users/r00t/Projects/PhoneBookApp/NotificationService.Api {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:10:57.722 +03:00 WRN] ce22ffc9-86e9-4b47-ac68-48e53fc9da9e Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEO2UT3SOVR:00000001","ConnectionId":"0HNEO2UT3SOVR","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
[2025-08-10 17:11:02.884 +03:00 ERR] ce22ffc9-86e9-4b47-ac68-48e53fc9da9e NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck Kafka health check failed {"HealthCheckName":"kafka","RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEO2UT3SOVR:00000001","ConnectionId":"0HNEO2UT3SOVR","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-10 17:11:02.897 +03:00 ERR] ce22ffc9-86e9-4b47-ac68-48e53fc9da9e Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService Health check kafka with status "Unhealthy" completed after 5165.5594ms with message 'Kafka connection failed' {"EventId":{"Id":103,"Name":"HealthCheckEnd"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEO2UT3SOVR:00000001","ConnectionId":"0HNEO2UT3SOVR","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-10 17:11:02.950 +03:00 INF] ce22ffc9-86e9-4b47-ac68-48e53fc9da9e Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /health responded 503 in 5230.8321 ms {"RequestHost":"localhost:5000","RequestScheme":"http","UserAgent":"Unknown","RequestId":"0HNEO2UT3SOVR:00000001","ConnectionId":"0HNEO2UT3SOVR","MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:16:20.159 +03:00 INF]   Starting NotificationService application... {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:16:20.320 +03:00 INF]   NotificationService application started successfully {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:16:20.325 +03:00 INF]  NotificationService.ApplicationService.Worker.ReportCompletedWorker Starting Kafka consumer for Report Completed events {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:16:20.326 +03:00 INF]  HealthChecks.UI.Core.HostedService.UIInitializationHostedService Initializing UI Database {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:16:20.822 +03:00 INF]  HealthChecks.UI.Core.HostedService.UIInitializationHostedService Saving healthchecks configuration to database {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:16:20.876 +03:00 INF]  Microsoft.Hosting.Lifetime Now listening on: http://localhost:5000 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:16:20.913 +03:00 INF]  Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down. {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:16:20.914 +03:00 INF]  Microsoft.Hosting.Lifetime Hosting environment: Production {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:16:20.914 +03:00 INF]  Microsoft.Hosting.Lifetime Content root path: /Users/r00t/Projects/PhoneBookApp/NotificationService.Api {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:16:20.935 +03:00 WRN] 47ae42f1-480f-4683-8125-23d463d75e4b Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEO31TEBJ6P:00000001","ConnectionId":"0HNEO31TEBJ6P","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
[2025-08-10 17:16:25.181 +03:00 INF]  Microsoft.Hosting.Lifetime Application is shutting down... {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:16:26.091 +03:00 ERR] 47ae42f1-480f-4683-8125-23d463d75e4b NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck Kafka health check failed {"HealthCheckName":"kafka","RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEO31TEBJ6P:00000001","ConnectionId":"0HNEO31TEBJ6P","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-10 17:16:26.103 +03:00 ERR] 47ae42f1-480f-4683-8125-23d463d75e4b Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService Health check kafka with status "Unhealthy" completed after 5161.253ms with message 'Kafka connection failed' {"EventId":{"Id":103,"Name":"HealthCheckEnd"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEO31TEBJ6P:00000001","ConnectionId":"0HNEO31TEBJ6P","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-10 17:16:26.150 +03:00 INF] 47ae42f1-480f-4683-8125-23d463d75e4b Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /health responded 503 in 5216.6700 ms {"RequestHost":"localhost:5000","RequestScheme":"http","UserAgent":"Unknown","RequestId":"0HNEO31TEBJ6P:00000001","ConnectionId":"0HNEO31TEBJ6P","MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:16:26.210 +03:00 INF]  NotificationService.ApplicationService.Worker.ReportCompletedWorker Report completed consumer is shutting down {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:18:19.384 +03:00 INF]   Starting NotificationService application... {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:18:19.746 +03:00 INF]   NotificationService application started successfully {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:18:19.757 +03:00 INF]  NotificationService.ApplicationService.Worker.ReportCompletedWorker Starting Kafka consumer for Report Completed events {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:18:19.760 +03:00 INF]  HealthChecks.UI.Core.HostedService.UIInitializationHostedService Initializing UI Database {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:18:20.134 +03:00 INF]  HealthChecks.UI.Core.HostedService.UIInitializationHostedService Saving healthchecks configuration to database {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:18:20.202 +03:00 INF]  Microsoft.Hosting.Lifetime Now listening on: http://localhost:5000 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:18:20.249 +03:00 INF]  Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down. {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:18:20.249 +03:00 INF]  Microsoft.Hosting.Lifetime Hosting environment: Production {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:18:20.249 +03:00 INF]  Microsoft.Hosting.Lifetime Content root path: /Users/r00t/Projects/PhoneBookApp/NotificationService.Api {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:18:20.275 +03:00 WRN] 6c235211-49df-4a60-b4de-f7ace9341db9 Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEO3310DSHD:00000001","ConnectionId":"0HNEO3310DSHD","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
[2025-08-10 17:18:25.439 +03:00 ERR] 6c235211-49df-4a60-b4de-f7ace9341db9 NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck Kafka health check failed {"HealthCheckName":"kafka","RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEO3310DSHD:00000001","ConnectionId":"0HNEO3310DSHD","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-10 17:18:25.448 +03:00 ERR] 6c235211-49df-4a60-b4de-f7ace9341db9 Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService Health check kafka with status "Unhealthy" completed after 5162.4127ms with message 'Kafka connection failed' {"EventId":{"Id":103,"Name":"HealthCheckEnd"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEO3310DSHD:00000001","ConnectionId":"0HNEO3310DSHD","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-10 17:18:25.501 +03:00 INF] 6c235211-49df-4a60-b4de-f7ace9341db9 Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /health responded 503 in 5224.3509 ms {"RequestHost":"localhost:5000","RequestScheme":"http","UserAgent":"Unknown","RequestId":"0HNEO3310DSHD:00000001","ConnectionId":"0HNEO3310DSHD","MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:18:42.334 +03:00 INF] e0265414-cc59-4487-b2a8-04554b622f28 Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET / responded 404 in 0.4371 ms {"RequestHost":"localhost:5000","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RequestId":"0HNEO3310DSHE:00000001","ConnectionId":"0HNEO3310DSHE","MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:18:53.946 +03:00 INF] 4210a042-57c0-4032-a09f-c2f3b56f825d Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /Swagger/index.html responded 404 in 0.8509 ms {"RequestHost":"localhost:5000","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RequestId":"0HNEO3310DSHE:00000002","ConnectionId":"0HNEO3310DSHE","MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:19:00.836 +03:00 ERR] fdeb7e48-f870-446f-83ff-2dd7242dcded NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck Kafka health check failed {"HealthCheckName":"kafka","RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEO3310DSHD:00000002","ConnectionId":"0HNEO3310DSHD","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-10 17:19:00.838 +03:00 ERR] fdeb7e48-f870-446f-83ff-2dd7242dcded Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService Health check kafka with status "Unhealthy" completed after 5200.9797ms with message 'Kafka connection failed' {"EventId":{"Id":103,"Name":"HealthCheckEnd"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEO3310DSHD:00000002","ConnectionId":"0HNEO3310DSHD","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-10 17:19:00.839 +03:00 INF] fdeb7e48-f870-446f-83ff-2dd7242dcded Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /health responded 503 in 5204.6438 ms {"RequestHost":"localhost:5000","RequestScheme":"http","UserAgent":"Unknown","RequestId":"0HNEO3310DSHD:00000002","ConnectionId":"0HNEO3310DSHD","MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:19:00.848 +03:00 INF]  HealthChecks.UI.Core.Notifications.WebHookFailureNotifier Notification is sent on same window time. {"Scope":["HealthReportCollector is collecting health checks results."],"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:19:21.986 +03:00 INF]   Starting NotificationService application... {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:19:22.120 +03:00 INF]   NotificationService application started successfully {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:19:22.126 +03:00 INF]  NotificationService.ApplicationService.Worker.ReportCompletedWorker Starting Kafka consumer for Report Completed events {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:19:22.128 +03:00 INF]  HealthChecks.UI.Core.HostedService.UIInitializationHostedService Initializing UI Database {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:19:22.426 +03:00 INF]  HealthChecks.UI.Core.HostedService.UIInitializationHostedService Saving healthchecks configuration to database {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:19:22.474 +03:00 INF]  Microsoft.Hosting.Lifetime Now listening on: http://localhost:5000 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:19:22.503 +03:00 INF]  Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down. {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:19:22.503 +03:00 INF]  Microsoft.Hosting.Lifetime Hosting environment: Production {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:19:22.503 +03:00 INF]  Microsoft.Hosting.Lifetime Content root path: /Users/r00t/Projects/PhoneBookApp/NotificationService.Api {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:19:22.523 +03:00 WRN] f943ee68-2fef-48cc-8df3-0a7caadd9c6b Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEO33JI46H9:00000001","ConnectionId":"0HNEO33JI46H9","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
[2025-08-10 17:19:27.678 +03:00 ERR] f943ee68-2fef-48cc-8df3-0a7caadd9c6b NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck Kafka health check failed {"HealthCheckName":"kafka","RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEO33JI46H9:00000001","ConnectionId":"0HNEO33JI46H9","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-10 17:19:27.686 +03:00 ERR] f943ee68-2fef-48cc-8df3-0a7caadd9c6b Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService Health check kafka with status "Unhealthy" completed after 5157.837ms with message 'Kafka connection failed' {"EventId":{"Id":103,"Name":"HealthCheckEnd"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEO33JI46H9:00000001","ConnectionId":"0HNEO33JI46H9","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-10 17:19:27.738 +03:00 INF] f943ee68-2fef-48cc-8df3-0a7caadd9c6b Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /health responded 503 in 5217.5324 ms {"RequestHost":"localhost:5000","RequestScheme":"http","UserAgent":"Unknown","RequestId":"0HNEO33JI46H9:00000001","ConnectionId":"0HNEO33JI46H9","MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:19:45.458 +03:00 INF] 5fc90f84-99ec-44c4-a79b-7c4df44f4313 Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET / responded 404 in 0.6706 ms {"RequestHost":"localhost:5000","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RequestId":"0HNEO33JI46HA:00000001","ConnectionId":"0HNEO33JI46HA","MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:19:55.520 +03:00 ERR] b4055089-7df8-4367-b174-7bbb4df87afd NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck Kafka health check failed {"HealthCheckName":"kafka","RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEO33JI46HA:00000002","ConnectionId":"0HNEO33JI46HA","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-10 17:19:55.524 +03:00 ERR] b4055089-7df8-4367-b174-7bbb4df87afd Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService Health check kafka with status "Unhealthy" completed after 5154.5732ms with message 'Kafka connection failed' {"EventId":{"Id":103,"Name":"HealthCheckEnd"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEO33JI46HA:00000002","ConnectionId":"0HNEO33JI46HA","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-10 17:19:55.527 +03:00 INF] b4055089-7df8-4367-b174-7bbb4df87afd Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /health responded 503 in 5162.0612 ms {"RequestHost":"localhost:5000","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RequestId":"0HNEO33JI46HA:00000002","ConnectionId":"0HNEO33JI46HA","MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:19:55.614 +03:00 INF] f35288c6-241e-4eb6-a4ec-89e209f094b4 Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /favicon.ico responded 404 in 0.1385 ms {"RequestHost":"localhost:5000","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RequestId":"0HNEO33JI46HA:00000003","ConnectionId":"0HNEO33JI46HA","MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:20:03.007 +03:00 ERR] d3140f9b-a273-46c2-a03d-8bc59da5862f NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck Kafka health check failed {"HealthCheckName":"kafka","RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEO33JI46H9:00000002","ConnectionId":"0HNEO33JI46H9","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-10 17:20:03.007 +03:00 ERR] d3140f9b-a273-46c2-a03d-8bc59da5862f Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService Health check kafka with status "Unhealthy" completed after 5146.3932ms with message 'Kafka connection failed' {"EventId":{"Id":103,"Name":"HealthCheckEnd"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEO33JI46H9:00000002","ConnectionId":"0HNEO33JI46H9","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-10 17:20:03.008 +03:00 INF] d3140f9b-a273-46c2-a03d-8bc59da5862f Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /health responded 503 in 5146.9678 ms {"RequestHost":"localhost:5000","RequestScheme":"http","UserAgent":"Unknown","RequestId":"0HNEO33JI46H9:00000002","ConnectionId":"0HNEO33JI46H9","MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:20:03.015 +03:00 INF]  HealthChecks.UI.Core.Notifications.WebHookFailureNotifier Notification is sent on same window time. {"Scope":["HealthReportCollector is collecting health checks results."],"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:20:13.834 +03:00 ERR] 41d32c94-31b0-4d66-8ed5-b7fe19f91beb NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck Kafka health check failed {"HealthCheckName":"kafka","RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEO33JI46HA:00000004","ConnectionId":"0HNEO33JI46HA","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-10 17:20:13.835 +03:00 ERR] 41d32c94-31b0-4d66-8ed5-b7fe19f91beb Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService Health check kafka with status "Unhealthy" completed after 5150.4719ms with message 'Kafka connection failed' {"EventId":{"Id":103,"Name":"HealthCheckEnd"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEO33JI46HA:00000004","ConnectionId":"0HNEO33JI46HA","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
Confluent.Kafka.KafkaException: Local: Broker transport failure
   at Confluent.Kafka.Impl.SafeKafkaHandle.GetMetadata(Boolean allTopics, SafeTopicHandle topic, Int32 millisecondsTimeout)
   at Confluent.Kafka.AdminClient.GetMetadata(TimeSpan timeout)
   at NotificationService.Infrastructure.HealthChecks.KafkaHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /Users/r00t/Projects/PhoneBookApp/NotificationService.Infrastructure/HealthChecks/KafkaHealthCheck.cs:line 31
[2025-08-10 17:20:13.837 +03:00 INF] 41d32c94-31b0-4d66-8ed5-b7fe19f91beb Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /health responded 503 in 5152.8463 ms {"RequestHost":"localhost:5000","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RequestId":"0HNEO33JI46HA:00000004","ConnectionId":"0HNEO33JI46HA","MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:20:21.253 +03:00 INF]  Microsoft.Hosting.Lifetime Application is shutting down... {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:20:21.284 +03:00 INF]  NotificationService.ApplicationService.Worker.ReportCompletedWorker Report completed consumer is shutting down {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:26:44.208 +03:00 INF]   Starting NotificationService application... {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:26:44.335 +03:00 INF]   NotificationService application started successfully {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:26:44.340 +03:00 INF]  NotificationService.ApplicationService.Worker.ReportCompletedWorker Starting Kafka consumer for Report Completed events {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:26:44.341 +03:00 INF]  HealthChecks.UI.Core.HostedService.UIInitializationHostedService Initializing UI Database {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:26:44.624 +03:00 INF]  HealthChecks.UI.Core.HostedService.UIInitializationHostedService Saving healthchecks configuration to database {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:26:44.670 +03:00 INF]  Microsoft.Hosting.Lifetime Now listening on: http://localhost:5000 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:26:44.699 +03:00 INF]  Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down. {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:26:44.699 +03:00 INF]  Microsoft.Hosting.Lifetime Hosting environment: Production {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:26:44.699 +03:00 INF]  Microsoft.Hosting.Lifetime Content root path: /Users/r00t/Projects/PhoneBookApp/NotificationService.Api {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
[2025-08-10 17:26:44.719 +03:00 WRN] 520eb1c9-dad7-4b96-81aa-4209dda262e5 Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"RequestPath":"/health","HttpMethod":"GET","ServiceName":"UnknownService","RequestId":"0HNEO37NB7MR9:00000001","ConnectionId":"0HNEO37NB7MR9","MachineName":"base","EnvironmentName":"Production","Environment":"Development"}
[2025-08-10 17:26:45.957 +03:00 INF]  Microsoft.Hosting.Lifetime Application is shutting down... {"MachineName":"base","EnvironmentName":"Production","Environment":"Development","ServiceName":"NotificationService"}
